<!DOCTYPE html>
<html lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="UTF-8">
<title>Cards Collector's</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<div class="container scroller" th:fragment="menu">
		<section>
			<nav class="navbar navbar-expand-sm navigation navbar-dark fixed-top" style="overflow-x:auto;">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="px-2" th:classappend="${#httpServletRequest.getRequestURI() == '/' ? 'navbar-brand active':'nav-link'}" href="/">Home</a>
					</li>
					<li class="nav-item" sec:authorize="isAuthenticated()">
						<a class="px-2" th:classappend="${#strings.startsWith(#httpServletRequest.getRequestURI(), '/gallery') ? 'navbar-brand active':'nav-link'}" href="/gallery">Gallery</a>
					</li>
				</ul>
				<ul class="navbar-nav ml-auto navigation-right">
					<li sec:authorize="isAuthenticated()" class="nav-item">
						<a class="px-2 nav-link text-white" th:text="${#authentication.getPrincipal().getUsername()}"></a>
					</li>
					<li sec:authorize="isAuthenticated()" class="nav-item">
						<a class="px-2 nav-link text-white"  th:text="${#numbers.formatInteger(coins, 1, 'WHITESPACE')}"></a>
					</li>
					<li sec:authorize="isAuthenticated()" class="nav-item">
						<a class="px-2 nav-link"><img th:src="@{images/coins.png}" style="width:40px;"></a>
					</li>
					<li sec:authorize="isAuthenticated()" class = "nav-item">
						<a class="px-2" th:classappend="${#httpServletRequest.getRequestURI() == '/logout' ? 'navbar-brand active':'nav-link'}" href="/logout">Log out</a>
					</li>
					<li sec:authorize="!isAuthenticated()" class="nav-item">
						<a class="px-2" th:classappend="${#httpServletRequest.getRequestURI() == '/login' ? 'navbar-brand active':'nav-link'}" href="/login">Sign in</a>
					</li>
					<li sec:authorize="!isAuthenticated()" class="nav-item">
						<a class="px-2" th:classappend="${#httpServletRequest.getRequestURI() == '/register' ? 'navbar-brand active':'nav-link'}" href="/register">Register</a>
					</li>
				</ul>
			</nav>
		</section>
	</div>
</body>
</html>